import java.nio.file.Files;
import java.nio.file.Paths;
import org.json.JSONArray;
import org.json.JSONObject;

public class Practica_Cocina {
    public static void main(String[] args) {
        try {
            // Leer el fichero JSON
            String contenido = new String(Files.readAllBytes(Paths.get("Cocina.json")));

            // Convertir a JSONArray
            JSONArray platos = new JSONArray(contenido);

            // a. Obtener los ingredientes del Gazpacho
            System.out.println("Ingredientes del Gazpacho:");
            for (int i = 0; i < platos.length(); i++) {
                JSONObject plato = platos.getJSONObject(i);
                if (plato.getString("nombre").equalsIgnoreCase("Gazpacho")) {
                    JSONArray ingredientes = plato.getJSONArray("ingredientes");
                    for (int j = 0; j < ingredientes.length(); j++) {
                        JSONObject ing = ingredientes.getJSONObject(j);
                        System.out.println("- " + ing.getString("nombre") + ": " + ing.getString("cantidad"));
                    }
                }
            }

            // b. Obtener todos los platos que tienen tomate
            System.out.println("\nPlatos que tienen Tomate:");
            for (int i = 0; i < platos.length(); i++) {
                JSONObject plato = platos.getJSONObject(i);
                JSONArray ingredientes = plato.getJSONArray("ingredientes");
                for (int j = 0; j < ingredientes.length(); j++) {
                    JSONObject ing = ingredientes.getJSONObject(j);
                    if (ing.getString("nombre").equalsIgnoreCase("Tomate")) {
                        System.out.println("- " + plato.getString("nombre"));
                        break; // Evitar repetir plato
                    }
                }
            }

            // c. Platos tipo "Primero" y sus ingredientes
            System.out.println("\nPlatos tipo 'Primero':");
            for (int i = 0; i < platos.length(); i++) {
                JSONObject plato = platos.getJSONObject(i);
                if (plato.getString("tipo").equalsIgnoreCase("Primero")) {
                    System.out.println("- " + plato.getString("nombre"));
                    JSONArray ingredientes = plato.getJSONArray("ingredientes");
                    for (int j = 0; j < ingredientes.length(); j++) {
                        JSONObject ing = ingredientes.getJSONObject(j);
                        System.out.println("    * " + ing.getString("nombre") + ": " + ing.getString("cantidad"));
                    }
                }
            }

        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}
