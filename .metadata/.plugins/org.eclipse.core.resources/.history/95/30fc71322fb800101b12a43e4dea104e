import com.google.gson.Gson;
import com.mongodb.client.MongoClients;
import com.mongodb.client.MongoClient;
import com.mongodb.client.MongoCollection;
import com.mongodb.client.MongoDatabase;
import org.bson.Document;

import java.io.FileReader;
import java.io.Reader;

public class Practica_Ampliacion_2_simple {
public static void main(String[] args) {
try {
// 1. Leer el archivo JSON de platos
Gson gson = new Gson();
Reader reader = new FileReader("platos.json"); // ruta a tu JSON
Plato[] listaPlatos = gson.fromJson(reader, Plato[].class);

```
        // 2. Conectar a MongoDB y obtener la BD Cocina
        MongoClient mongoClient = MongoClients.create("mongodb://localhost:27017");
        MongoDatabase dbCocina = mongoClient.getDatabase("Cocina");
        MongoCollection<Document> coleccionPlatos = dbCocina.getCollection("platos");

        // 3. Insertar cada plato como documento
        for (Plato plato : listaPlatos) {
            Document doc = new Document();
            doc.append("nombre", plato.getNombre());
            doc.append("tipo", plato.getTipo());

            // Convertir lista de ingredientes a documentos
            for (Ingrediente ing : plato.getIngredientes()) {
                doc.append("ingredientes", new Document("nombre", ing.getNombre())
                                                .append("cantidad", ing.getCantidad()));
            }

            coleccionPlatos.insertOne(doc);
        }

        // 4. Mostrar por consola los platos insertados
        System.out.println("Platos insertados en MongoDB:");
        for (Plato plato : listaPlatos) {
            System.out.println(plato);
        }

        reader.close();
        mongoClient.close();

    } catch (Exception e) {
        e.printStackTrace();
    }
}
```

}
